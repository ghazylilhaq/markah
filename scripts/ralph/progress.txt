## Codebase Patterns
- Database: Supabase PostgreSQL is remote — `prisma migrate dev` requires DB connection; create migrations manually in `prisma/migrations/YYYYMMDD_description/migration.sql` and apply with `npx prisma migrate deploy`
- After schema changes: always run `npx prisma generate` (no DB needed) to update the Prisma client
- TypeScript check: `npx tsc --noEmit` (no output = passes)
- Unique indexes on nullable columns: PostgreSQL allows multiple NULLs naturally; `@@unique([externalId, userId])` in schema is safe for nullable externalId
- .env* is gitignored — use `git add -f` for .env.example

# Ralph Progress Log
Started: Wed Feb 18 20:55:53 WIB 2026
---

## 2026-02-18 - US-001
- Added `XIntegration` model to `prisma/schema.prisma` with all required fields (xUserId, xHandle, accessToken, refreshToken, expiresAt, lastSyncedAt, lastSyncedTweetId, syncEnabled, retryCount, lastError)
- Added `source` (String?) and `externalId` (String?) fields to `Bookmark` model
- Added `@@unique([externalId, userId])` constraint on Bookmark
- Added `xIntegration XIntegration?` relation to User model
- Created manual migration at `prisma/migrations/20260218_add_x_integration/migration.sql`
- Ran `npx prisma generate` to update Prisma client
- Files changed: `prisma/schema.prisma`, `prisma/migrations/20260218_add_x_integration/migration.sql`
- **Learnings for future iterations:**
  - The Supabase remote DB is not reachable from local dev environment — always create migrations manually
  - Use `npx prisma generate` (no DB needed) to update the generated client after schema changes
  - `@@unique` on nullable fields works correctly in PostgreSQL (multiple NULLs are distinct)
---
